<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction</h1>



<div id="about" class="section level1">
<h1>About</h1>
<p>The Assessment, Total Maximum Daily Load (TMDL) Tracking and
Implementation System (ATTAINS) is the U.S. Environmental Protection
Agency (EPA) database used to track information provided by states about
water quality assessments conducted under the Clean Water Act. The
assessments are conducted every two years to evaluate if the nation’s
water bodies meet water quality standards. States are required to take
Actions (TMDLs or other efforts) on water bodies that do not meet
standards. Public information in ATTAINS is made available through
webservices and provided as JSON files. rATTAINS facilitates accessing
this data with various functions that provide raw JSON or formatted
“tidy” data for each of the ATTAINS webservice endpoints. More
information about Clean Water Act assessment and reporting is available
through the <a href="https://www.epa.gov/waterdata/attains-program-information">EPA</a>.
For alternative methods of accessing the same data, see <a href="https://mywaterway.epa.gov/">“How’s My Waterway” webpage</a> for
interactive data exploration or the <a href="https://gispub.epa.gov/arcgis/rest/services/OW/ATTAINS_Assessment/MapServer">ArcGIS
MapService</a> for spatial data.</p>
</div>
<div id="functions" class="section level1">
<h1>Functions</h1>
<div id="summary-services" class="section level2">
<h2>Summary Services</h2>
<p>The EPA provides two summary service endpoint that provide summaries
of assessed uses by the organization identifier or by hydrologic unit
code (HUC). For example, to return a summary of assessed uses by the
state of Tennessee the following function is used:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(rATTAINS)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">state_summary</span>(<span class="at">organization_id =</span> <span class="st">&quot;TDECWR&quot;</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                   <span class="at">reporting_cycle =</span> <span class="st">&quot;2016&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>x</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co">#&gt; # A tibble: 71 × 24</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co">#&gt;    organization_identifer organization_name organization_type_text</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                  &lt;chr&gt;             &lt;chr&gt;                 </span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="co">#&gt;  1 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co">#&gt;  2 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">#&gt;  3 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt;  4 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co">#&gt;  5 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">#&gt;  6 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">#&gt;  7 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="co">#&gt;  8 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co">#&gt;  9 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co">#&gt; 10 TDECWR                 Tennessee         State                 </span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="co">#&gt; # ℹ 61 more rows</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co">#&gt; # ℹ 21 more variables: reporting_cycle &lt;chr&gt;, water_type_code &lt;chr&gt;,</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="co">#&gt; #   units_code &lt;chr&gt;, use_name &lt;chr&gt;, fully_supporting &lt;dbl&gt;,</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="co">#&gt; #   fully_supporting_count &lt;int&gt;, use_insufficient_information &lt;dbl&gt;,</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="co">#&gt; #   use_insufficient_information_count &lt;int&gt;, not_assessed &lt;dbl&gt;,</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="co">#&gt; #   not_assessed_count &lt;int&gt;, not_supporting &lt;dbl&gt;, not_supporting_count &lt;int&gt;,</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="co">#&gt; #   parameter_group &lt;chr&gt;, parameter_insufficient_information &lt;dbl&gt;, …</span></span></code></pre></div>
<p>The HUC12 service operates similarly but provides data summarized by
area, specifically HUC12 units. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">huc12_summary</span>(<span class="st">&quot;020700100204&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>x</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; $huc_summary</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 14</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt;   huc12        assessment_unit_count total_catchment_area…¹ total_huc_area_sq_mi</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                        &lt;int&gt;                  &lt;dbl&gt;                &lt;dbl&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; 1 020700100204                    17                   46.1                 46.2</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; # ℹ abbreviated name: ¹​total_catchment_area_sq_mi</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt; # ℹ 10 more variables: assessed_catchment_area_sq_mi &lt;dbl&gt;,</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; #   assessed_cathcment_area_percent &lt;dbl&gt;,</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#&gt; #   assessed_good_catchment_area_sq_mi &lt;dbl&gt;,</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co">#&gt; #   assessed_good_catchment_area_percent &lt;dbl&gt;,</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#&gt; #   assessed_unknown_catchment_area_sq_mi &lt;dbl&gt;,</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co">#&gt; #   assessed_unknown_catchment_area_percent &lt;dbl&gt;, …</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co">#&gt; $au_summary</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">#&gt; # A tibble: 17 × 1</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co">#&gt;    assessment_unit_id          </span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                       </span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co">#&gt;  1 MD-02140205-Northwest_Branch</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co">#&gt;  2 MD-02140205                 </span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co">#&gt;  3 DCTFD01R_00                 </span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co">#&gt;  4 DCTNA01R_00                 </span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co">#&gt;  5 DCTFS01R_00                 </span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">#&gt;  6 MD-ANATF                    </span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="co">#&gt;  7 DCTTX27R_00                 </span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="co">#&gt;  8 DCTFC01R_00                 </span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="co">#&gt;  9 MD-02140205-Mainstem        </span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="co">#&gt; 10 DCTWB00R_02                 </span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="co">#&gt; 11 DCANA00E_02                 </span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="co">#&gt; 12 DCTHR01R_00                 </span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a><span class="co">#&gt; 13 DCTWB00R_01                 </span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a><span class="co">#&gt; 14 DCTPB01R_00                 </span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a><span class="co">#&gt; 15 DCTDU01R_00                 </span></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="co">#&gt; 16 DCANA00E_01                 </span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a><span class="co">#&gt; 17 DCAKL00L_00                 </span></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a><span class="co">#&gt; $ir_summary</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 4</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a><span class="co">#&gt;   EPA_IR_category_name catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                               &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a><span class="co">#&gt; 1 4A                                   12.7                   27.5</span></span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a><span class="co">#&gt; 2 5                                    25.8                   56.0</span></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a><span class="co">#&gt; $status_summary</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 4</span></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a><span class="co">#&gt;   overall_status catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                         &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a><span class="co">#&gt; 1 Not Supporting                 35.2                   76.4</span></span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a><span class="co">#&gt; $use_group_summary</span></span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 5</span></span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a><span class="co">#&gt;   use_group_name      use_attainment catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;                         &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a><span class="co">#&gt; 1 ECOLOGICAL_USE      Not Supporting               10.9                    23.7 </span></span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a><span class="co">#&gt; 2 FISHCONSUMPTION_USE Insufficient …               15.9                    34.4 </span></span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a><span class="co">#&gt; 3 FISHCONSUMPTION_USE Not Supporting               15.9                    34.4 </span></span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a><span class="co">#&gt; 4 OTHER_USE           Fully Support…                0.683                   1.48</span></span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a><span class="co">#&gt; 5 RECREATION_USE      Not Supporting               15.2                    32.9 </span></span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a><span class="co">#&gt; $use_summary</span></span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a><span class="co">#&gt;   use_name                    use_group_name use_attainment catchment_size_sq_mi</span></span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                       &lt;chr&gt;          &lt;chr&gt;                         &lt;dbl&gt;</span></span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a><span class="co">#&gt; 1 Navigation                  OTHER_USE      Fully Support…               10.9  </span></span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a><span class="co">#&gt; 2 Primary Contact Recreation  RECREATION_USE Not Supporting               15.9  </span></span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a><span class="co">#&gt; 3 Protection and Propagation… ECOLOGICAL_USE Not Supporting               15.9  </span></span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a><span class="co">#&gt; 4 Protection of Human Health… FISHCONSUMPTI… Insufficient …                0.683</span></span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a><span class="co">#&gt; 5 Protection of Human Health… FISHCONSUMPTI… Not Supporting               15.2  </span></span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a><span class="co">#&gt; 6 Secondary Contact Recreati… RECREATION_USE Not Supporting               15.9  </span></span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a><span class="co">#&gt; # ℹ 2 more variables: catchment_size_percent &lt;dbl&gt;, assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a><span class="co">#&gt; $param_summary</span></span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a><span class="co">#&gt; # A tibble: 16 × 4</span></span>
<span id="cb2-78"><a href="#cb2-78" tabindex="-1"></a><span class="co">#&gt;    parameter_group_name              catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-79"><a href="#cb2-79" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                                            &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-80"><a href="#cb2-80" tabindex="-1"></a><span class="co">#&gt;  1 ALGAL GROWTH                                      9.21                  20.0 </span></span>
<span id="cb2-81"><a href="#cb2-81" tabindex="-1"></a><span class="co">#&gt;  2 CHLORINE                                          1.73                   3.75</span></span>
<span id="cb2-82"><a href="#cb2-82" tabindex="-1"></a><span class="co">#&gt;  3 HABITAT ALTERATIONS                               2.80                   6.07</span></span>
<span id="cb2-83"><a href="#cb2-83" tabindex="-1"></a><span class="co">#&gt;  4 HYDROLOGIC ALTERATION                             5.98                  13.0 </span></span>
<span id="cb2-84"><a href="#cb2-84" tabindex="-1"></a><span class="co">#&gt;  5 METALS (OTHER THAN MERCURY)                      11.8                   25.7 </span></span>
<span id="cb2-85"><a href="#cb2-85" tabindex="-1"></a><span class="co">#&gt;  6 NUTRIENTS                                         9.21                  20.0 </span></span>
<span id="cb2-86"><a href="#cb2-86" tabindex="-1"></a><span class="co">#&gt;  7 OIL AND GREASE                                   10.9                   23.7 </span></span>
<span id="cb2-87"><a href="#cb2-87" tabindex="-1"></a><span class="co">#&gt;  8 ORGANIC ENRICHMENT/OXYGEN DEPLET…                12.7                   27.5 </span></span>
<span id="cb2-88"><a href="#cb2-88" tabindex="-1"></a><span class="co">#&gt;  9 PATHOGENS                                        15.9                   34.4 </span></span>
<span id="cb2-89"><a href="#cb2-89" tabindex="-1"></a><span class="co">#&gt; 10 PESTICIDES                                       15.2                   32.9 </span></span>
<span id="cb2-90"><a href="#cb2-90" tabindex="-1"></a><span class="co">#&gt; 11 PH/ACIDITY/CAUSTIC CONDITIONS                     1.95                   4.22</span></span>
<span id="cb2-91"><a href="#cb2-91" tabindex="-1"></a><span class="co">#&gt; 12 POLYCHLORINATED BIPHENYLS (PCBS)                 15.2                   32.9 </span></span>
<span id="cb2-92"><a href="#cb2-92" tabindex="-1"></a><span class="co">#&gt; 13 SEDIMENT                                          1.90                   4.11</span></span>
<span id="cb2-93"><a href="#cb2-93" tabindex="-1"></a><span class="co">#&gt; 14 TOXIC ORGANICS                                   13.3                   28.7 </span></span>
<span id="cb2-94"><a href="#cb2-94" tabindex="-1"></a><span class="co">#&gt; 15 TRASH                                             9.21                  20.0 </span></span>
<span id="cb2-95"><a href="#cb2-95" tabindex="-1"></a><span class="co">#&gt; 16 TURBIDITY                                        15.9                   34.4 </span></span>
<span id="cb2-96"><a href="#cb2-96" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-97"><a href="#cb2-97" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-98"><a href="#cb2-98" tabindex="-1"></a><span class="co">#&gt; $res_plan_summary</span></span>
<span id="cb2-99"><a href="#cb2-99" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 4</span></span>
<span id="cb2-100"><a href="#cb2-100" tabindex="-1"></a><span class="co">#&gt;   summary_type_name catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-101"><a href="#cb2-101" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-102"><a href="#cb2-102" tabindex="-1"></a><span class="co">#&gt; 1 TMDL                              15.9                   34.4</span></span>
<span id="cb2-103"><a href="#cb2-103" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span>
<span id="cb2-104"><a href="#cb2-104" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-105"><a href="#cb2-105" tabindex="-1"></a><span class="co">#&gt; $vision_plan_summary</span></span>
<span id="cb2-106"><a href="#cb2-106" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 4</span></span>
<span id="cb2-107"><a href="#cb2-107" tabindex="-1"></a><span class="co">#&gt;   summary_type_name catchment_size_sq_mi catchment_size_percent</span></span>
<span id="cb2-108"><a href="#cb2-108" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                            &lt;dbl&gt;                  &lt;dbl&gt;</span></span>
<span id="cb2-109"><a href="#cb2-109" tabindex="-1"></a><span class="co">#&gt; 1 TMDL                              15.9                   34.4</span></span>
<span id="cb2-110"><a href="#cb2-110" tabindex="-1"></a><span class="co">#&gt; # ℹ 1 more variable: assessment_unit_count &lt;int&gt;</span></span></code></pre></div>
<p><code>huc12_summary()</code> returns a list of tibbles with different
summaries of information. Using the above example: -
<code>x$huc_summary</code> provides a summary of HUC area, and the area
and percentage of catchment assessed as good, unknown, or impaired. -
<code>x$au_summary</code> provides a tibble with the unique identifiers
for the assessment units (or distinct sections of waterbodies) within
the queried HUC12. - <code>x$ir_summary</code> provides a simple summary
of the area of the catchment classified under different Integrated
Report Categories. - <code>x$status_summary</code> provides a summary of
the overall status within the HUC12. - <code>x$use_group_summary</code>
provides a summary of use attainment bu use group within the HUC12. -
<code>x$use_summary</code> breaks the use summary down further by the
use name. - <code>x$param_summary</code> provides the same information
for parameter groups. - <code>x$res_plan_summary</code> and
<code>x$vision_plan_summary</code> provides a summary of the amount of
the watershed covered by particular types of restoration plans or vision
plan, such as TMDLs.</p>
</div>
<div id="domains" class="section level2">
<h2>Domains</h2>
<p>Each function has a number of allowable arguments and associated
values. In order to explore what values you might be interested in
querying, the Domain Value service provides information about allowable
options. This is mapped to the <code>domain_values()</code> function.
When used without any arguments you get a full list of possible
“domains.” These are typically searchable parameters used in all the
functions in rATTAINS. Note that the domain names returned by these
service are not a one to one match with the argument names used in
rATTAINS. It is typically fairly easy to figure out which ones match up
to which arguments.</p>
<p>For example if I want to find out the possible organization
identifiers to query by:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">domain_values</span>(<span class="at">domain_name =</span> <span class="st">&quot;OrgStateCode&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>x</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt; # A tibble: 146 × 5</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt;    domain       name  code  context         context_2</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;    </span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt;  1 OrgStateCode AK    AK    EPA             &lt;NA&gt;     </span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt;  2 OrgStateCode FL    FL    21FL303D        &lt;NA&gt;     </span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt;  3 OrgStateCode PA    PA    EPA             &lt;NA&gt;     </span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt;  4 OrgStateCode CC    CC    TEST_ORG_C      &lt;NA&gt;     </span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt;  5 OrgStateCode AZ    AZ    TEST_TRIBE_B    &lt;NA&gt;     </span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt;  6 OrgStateCode MS    MS    21MSWQ          &lt;NA&gt;     </span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt;  7 OrgStateCode CT    CT    CT_DEP01        &lt;NA&gt;     </span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt;  8 OrgStateCode ND    ND    21NDHDWQ        &lt;NA&gt;     </span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt;  9 OrgStateCode MN    MN    REDLAKE         &lt;NA&gt;     </span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; 10 OrgStateCode NM    NM    PUEBLO_POJOAQUE &lt;NA&gt;     </span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; # ℹ 136 more rows</span></span></code></pre></div>
<p>The function returns a variable with the state codes and the possible
parameter values as the context variable. Similarly if I want to look up
possible Use Names that are utilized by the Texas Commission on
Environmental Quality:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">domain_values</span>(<span class="at">domain_name =</span> <span class="st">&quot;UseName&quot;</span>, <span class="at">context =</span> <span class="st">&quot;TCEQMAIN&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>x</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt; # A tibble: 17 × 5</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt;    domain  name                                        code    context context_2</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;                                       &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;    </span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt;  1 UseName Recreation Use                              Recrea… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;  2 UseName Fish Consumption Use                        Fish C… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;  3 UseName INTERMEDIATE AQUATIC LIFE                   INTERM… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt;  4 UseName OVERALL USE SUPPORT                         OVERAL… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt;  5 UseName Aquatic Life Use                            Aquati… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt;  6 UseName Oyster Waters Use                           Oyster… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt;  7 UseName FISH CONSUMPTION                            FISH C… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt;  8 UseName OYSTER AQUATIC LIFE                         OYSTER… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt;  9 UseName NON-CONTACT RECREATION                      NON-CO… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt; 10 UseName CONTACT RECREATION USE                      CONTAC… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; 11 UseName DOMESTIC WATER SUPPLY - PUBLIC WATER SUPPLY DOMEST… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; 12 UseName Public Water Supply Use                     Public… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt; 13 UseName General Use                                 Genera… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; 14 UseName PRIMARY RECREATION/SWIMMING                 PRIMAR… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; 15 UseName CONTACT RECREATION                          CONTAC… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; 16 UseName NONCONTACT RECREATION USE                   NONCON… TCEQMA… &lt;NA&gt;     </span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; 17 UseName Recreational Beaches                        Recrea… TCEQMA… &lt;NA&gt;</span></span></code></pre></div>
</div>
<div id="other-services" class="section level2">
<h2>Other Services</h2>
<ul>
<li><p><code>assessment_units()</code> : provides information about
assessment units by the specified argument parameters.</p></li>
<li><p><code>assessments()</code> provides information about assessment
decisions by the specified argument parameters.</p></li>
<li><p><code>actions()</code> provides information about Actions (such
as TMDLs, 4B Actions, or similar) that have been finalized by the
specified argument parameters.</p></li>
<li><p><code>plans()</code> is similiar to actions but provides
information about finalized Actions and assessment units by
HUC8.</p></li>
<li><p><code>surveys()</code> provides information about organization
conducted statistical surveys about water quality assessment
results.</p></li>
</ul>
</div>
<div id="json-files" class="section level2">
<h2>JSON Files</h2>
<p>By default, all the functions rATTAINS return one or more “tidy”
dataframes. These dataframe are created by attempting to flatten the
nested JSON data returned by the webservice. This does require some
opinionated decisions on what constitutes flat data, and at what
variable data should be flattened to. We recognize that the dataframe
output might not meet user needs. There if you would prefer to parse the
JSON data yourself, use the <code>tidy=FALSE</code> argument to return
an unparsed JSON string. A number of R packages are available to parse
and flatten JSON data to prepare it for analysis.</p>
</div>
</div>
<div id="notes" class="section level1">
<h1>Notes</h1>
<p>The U.S. EPA is the data provider for this public information.
rATTAINS and the author are not affiliated with the EPA. Questions about
the package functionality should be directed to the package author.
Questions about the webservice or underlying data should be directed to
the U.S. EPA. Please do not abuse the webservice using this package.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
